(this.webpackJsonpprofile=this.webpackJsonpprofile||[]).push([[0],{111:function(t,e,n){},140:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),s=n(30),i=n.n(s),o=(n(111),n(112),n(97)),c=n(46),u=n.n(c),l=n(56),h=n(57),p=n(58),d=n(76),f=n(70),b=n(157),j=n(158),x=n(159),v=n(54),y=n(141),O=n(160),g=n(49),k=n.n(g),C=n(10),m=function(t){Object(d.a)(n,t);var e=Object(f.a)(n);function n(t){var a;Object(h.a)(this,n);var r="text",s=!1;return(a=e.call(this,t)).props.content.startsWith("https://")?(r="https",s=!0):a.props.content.startsWith("ipfs://")&&(r="ipfs",s=!0),a.state={text:!0,lazy:s,type:r,lazyText:"loading...",iconColor:""},a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var t=Object(l.a)(u.a.mark((function t(){var e,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.state.lazy){t.next=16;break}t.t0=this.state.type,t.next="https"===t.t0?4:"ipfs"===t.t0?10:16;break;case 4:return t.next=6,k.a.get(this.props.content);case 6:return e=t.sent,e.headers["content-type"].search("text/plain")>=0&&this.setState({lazyText:e.data,iconColor:"red"}),t.abrupt("break",16);case 10:return t.next=12,k.a.get("".concat("https://ipfs.io/ipfs/").concat(this.props.content.replace("ipfs://","")));case 12:return n=t.sent,n.headers["content-type"].search("text/plain")>=0&&this.setState({lazyText:n.data,iconColor:"teal"}),t.abrupt("break",16);case 16:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return Object(C.jsxs)(O.a,{fluid:!0,children:[this.state.lazy?Object(C.jsx)(O.a.Content,{description:this.state.lazyText}):Object(C.jsx)(O.a.Content,{description:this.props.content}),Object(C.jsxs)(O.a.Content,{extra:!0,children:[this.state.lazy&&Object(C.jsxs)(v.a,{attached:"top right",color:this.state.iconColor,size:"tiny",children:[this.state.type," "]}),this.props.date]})]})}}]),n}(r.a.Component);var D=function(t){Object(d.a)(n,t);var e=Object(f.a)(n);function n(){var t;Object(h.a)(this,n),t=e.call(this);var a=localStorage.getItem("ID");return t.state={id:a,profileButtonDisable:!0,feed:[]},t}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.loadData(this.state.id)}},{key:"onChangeProfile",value:function(t){this.setState({profileButtonDisable:!1,id:t.target.value})}},{key:"onClickProfileSave",value:function(){localStorage.setItem("ID",this.state.id),this.setState({profileButtonDisable:!0}),this.loadData(this.state.id)}},{key:"loadData",value:function(){var t=Object(l.a)(u.a.mark((function t(e){var n,a,r,s=this;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,k.a.get("https://api.polygonscan.com/api?module=account&action=txlist&address=".concat(e,"&startblock=1&endblock=99999999&sort=asc"));case 4:if(n=t.sent,"1"===(a=n.data).status&&Array.isArray(a.result)){t.next=8;break}return t.abrupt("return");case 8:r=a.result.filter((function(t){return t.to.toLowerCase()===s.state.id.toLowerCase()})).filter((function(t){return"0x"!==t.input})).filter((function(t,e,n){return n.findIndex((function(e){return e.hash===t.hash}))===e})).map((function(t){var e,n=t.hash,a=t.input,r=t.timeStamp;return{hash:n,content:(e=a,decodeURIComponent(e.replace(/\s+/g,"").replace(/[0-9a-f]{2}/g,"%$&").substring(2))),date:new Date(1e3*parseInt(r)).toLocaleString()}})).reverse(),this.setState({feed:r});case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){return Object(C.jsxs)(b.a,{children:[Object(C.jsx)(j.a,{hidden:!0}),Object(C.jsx)(x.a,{value:this.state.id,onChange:this.onChangeProfile.bind(this),fluid:!0,label:Object(C.jsx)(v.a,{content:"Profile"}),action:Object(C.jsx)(y.a,{primary:!0,disabled:this.state.profileButtonDisable,icon:"save",onClick:this.onClickProfileSave.bind(this)}),placeholder:"0x... address"}),Object(C.jsx)(j.a,{hidden:!0}),Object(C.jsx)(O.a.Group,{children:this.state.feed.map((function(t){return Object(C.jsx)(m,Object(o.a)({},t),t.hash)}))})]})}}]),n}(r.a.Component);var S=function(){return Object(C.jsx)("div",{className:"App",children:Object(C.jsx)(D,{})})},w=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,162)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,s=e.getLCP,i=e.getTTFB;n(t),a(t),r(t),s(t),i(t)}))};i.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)(S,{})}),document.getElementById("root")),w()}},[[140,1,2]]]);
//# sourceMappingURL=main.5bee8289.chunk.js.map