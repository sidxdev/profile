(this.webpackJsonpprofile=this.webpackJsonpprofile||[]).push([[0],{114:function(t,e,n){},143:function(t,e,n){"use strict";n.r(e);var a=n(0),s=n.n(a),i=n(33),r=n.n(i),o=(n(114),n(115),n(38)),c=n(39),h=n(50),l=n(47),u=n(162),d=n(100),p=n(51),b=n.n(p),f=n(62),j=n(159),m=n(160),x=n(161),v=n(59),k=n(144),y=n(163),O=n(54),g=n.n(O),C=n(9),S=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var a;Object(o.a)(this,n);var s="text",i=!1;return(a=e.call(this,t)).props.content.startsWith("https://")?(s="https",i=!0):a.props.content.startsWith("ipfs://")&&(s="ipfs",i=!0),a.state={text:!0,lazy:i,type:s,lazyText:"loading...",iconColor:"grey"},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var t=Object(f.a)(b.a.mark((function t(){var e,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.state.lazy){t.next=16;break}t.t0=this.state.type,t.next="https"===t.t0?4:"ipfs"===t.t0?10:4;break;case 4:return t.next=6,g.a.get(this.props.content);case 6:return e=t.sent,e.headers["content-type"].search("text/plain")>=0&&this.setState({lazyText:e.data,iconColor:"red"}),t.abrupt("break",16);case 10:return t.next=12,g.a.get("".concat("https://ipfs.io/ipfs/").concat(this.props.content.replace("ipfs://","")));case 12:return n=t.sent,n.headers["content-type"].search("text/plain")>=0&&this.setState({lazyText:n.data,iconColor:"teal"}),t.abrupt("break",16);case 16:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return Object(C.jsxs)(y.a,{fluid:!0,children:[this.state.lazy?Object(C.jsx)(y.a.Content,{description:this.state.lazyText}):Object(C.jsx)(y.a.Content,{description:this.props.content}),Object(C.jsxs)(y.a.Content,{extra:!0,children:[this.state.lazy&&Object(C.jsxs)(v.a,{attached:"top right",color:this.state.iconColor,size:"tiny",children:[this.state.type," "]}),this.props.date]})]})}}]),n}(s.a.Component);var D=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(o.a)(this,n),t=e.call(this);var a=localStorage.getItem("ID");return t.state={id:a,profileButtonDisable:!0,feed:[],theme:"light",connect:!1},t}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.loadData(this.state.id)}},{key:"onChangeProfile",value:function(t){this.setState({profileButtonDisable:!1,id:t.target.value})}},{key:"onClickProfileSave",value:function(){localStorage.setItem("ID",this.state.id),this.setState({profileButtonDisable:!0}),this.loadData(this.state.id)}},{key:"loadData",value:function(){var t=Object(f.a)(b.a.mark((function t(e){var n,a,s,i=this;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,g.a.get("https://api.polygonscan.com/api?module=account&action=txlist&address=".concat(e,"&startblock=1&endblock=99999999&sort=asc"));case 4:if(n=t.sent,"1"===(a=n.data).status&&Array.isArray(a.result)){t.next=8;break}return t.abrupt("return");case 8:s=a.result.filter((function(t){return t.to.toLowerCase()===i.state.id.toLowerCase()})).filter((function(t){return"0x"!==t.input})).filter((function(t,e,n){return n.findIndex((function(e){return e.hash===t.hash}))===e})).map((function(t){var e,n=t.hash,a=t.input,s=t.timeStamp;return{hash:n,content:(e=a,decodeURIComponent(e.replace(/\s+/g,"").replace(/[0-9a-f]{2}/g,"%$&").substring(2))),date:new Date(1e3*parseInt(s)).toLocaleString()}})).reverse(),this.setState({feed:s});case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){return Object(C.jsxs)(j.a,{style:{marginTop:"2.5em"},children:[Object(C.jsx)(m.a,{hidden:!0}),Object(C.jsx)(x.a,{value:this.state.id,onChange:this.onChangeProfile.bind(this),fluid:!0,label:Object(C.jsx)(v.a,{content:"Profile"}),action:Object(C.jsx)(k.a,{primary:!0,disabled:this.state.profileButtonDisable,icon:"save",onClick:this.onClickProfileSave.bind(this)}),placeholder:"0x... address"}),Object(C.jsx)(m.a,{hidden:!0}),Object(C.jsx)(y.a.Group,{children:this.state.feed.map((function(t){return Object(C.jsx)(S,Object(d.a)({},t),t.hash)}))})]})}}]),n}(s.a.Component),I=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(){var t;return Object(o.a)(this,n),(t=e.call(this)).state={theme:"light",connect:!1},t}return Object(c.a)(n,[{key:"onClickToggleTheme",value:function(){"dark"===this.state.theme?(this.setState({theme:"light"}),document.body.classList.remove("dark"),document.body.classList.add("light")):(this.setState({theme:"dark"}),document.body.classList.remove("light"),document.body.classList.add("dark"))}},{key:"onClickConnect",value:function(){this.state.connect?this.setState({connect:!1}):this.setState({connect:!0})}},{key:"render",value:function(){return Object(C.jsxs)("div",{className:this.state.theme,children:[Object(C.jsxs)(u.a,{fixed:"top",compact:!0,borderless:!0,inverted:"dark"===this.state.theme,children:[Object(C.jsx)(u.a.Item,{header:!0,content:"Profile"}),Object(C.jsx)(u.a.Item,{position:"right",icon:"dark"===this.state.theme?"moon":"sun",onClick:this.onClickToggleTheme.bind(this)}),Object(C.jsx)(u.a.Item,{name:this.state.connect?"Disconnect":"Connect",icon:"power",onClick:this.onClickConnect.bind(this)})]}),Object(C.jsx)(D,{theme:this.state.theme})]})}}]),n}(s.a.Component),T=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,165)).then((function(e){var n=e.getCLS,a=e.getFID,s=e.getFCP,i=e.getLCP,r=e.getTTFB;n(t),a(t),s(t),i(t),r(t)}))};r.a.render(Object(C.jsx)(s.a.StrictMode,{children:Object(C.jsx)(I,{})}),document.getElementById("root")),T()}},[[143,1,2]]]);
//# sourceMappingURL=main.9a24d889.chunk.js.map