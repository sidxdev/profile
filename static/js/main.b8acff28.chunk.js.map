{"version":3,"sources":["components/FeedItem.js","lib/HexStringUtil.js","components/Profile.js","App.js","reportWebVitals.js","index.js"],"names":["FeedItem","props","type","lazy","content","startsWith","state","text","lazyText","iconColor","a","this","axios","get","httpResponse","headers","search","setState","data","replace","ipfsResponse","Card","fluid","raised","style","background","theme","Content","Description","color","extra","Label","attached","size","date","React","Component","stringToHex","string","split","map","c","charCodeAt","toString","padStart","join","Profile","feed","localStorage","getItem","JSON","parse","id","network","window","ethereum","networkVersion","host","response","status","Array","isArray","result","filter","e","to","toLowerCase","input","v","i","findIndex","t","hash","hex","timeStamp","decodeURIComponent","substring","Date","parseInt","reverse","setItem","stringify","Container","marginTop","Divider","hidden","Header","slice","Group","item","ipfs","create","require","App","disableConnect","connect","addModalOpen","postMessage","disableRefresh","profile","createRef","setTheme","document","body","classList","remove","add","removeItem","request","method","then","accounts","current","loadData","catch","_","clear","post","length","pin","cid","params","selectedAddress","from","finally","className","Menu","fixed","compact","borderless","inverted","Item","header","icon","disabled","onClick","setTimeout","position","onClickToggleTheme","bind","name","open","onClickConnect","ref","Button","circular","onClickAdd","display","margin","bottom","right","zIndex","Modal","Input","placeholder","onChange","value","Message","warning","Actions","negative","labelPosition","positive","onClickPostToMetamask","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","VConsole","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b8acff28.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Card, Label } from \"semantic-ui-react\";\r\nimport axios from \"axios\";\r\n\r\nconst IPFS_GATEWAY = \"https://ipfs.io/ipfs/\";\r\n\r\nclass FeedItem extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    let type = \"text\";\r\n    let lazy = false;\r\n\r\n    if (this.props.content.startsWith(\"https://\")) {\r\n      type = \"https\";\r\n      lazy = true;\r\n    } else if (this.props.content.startsWith(\"ipfs://\")) {\r\n      type = \"ipfs\";\r\n      lazy = true;\r\n    }\r\n\r\n    this.state = {\r\n      text: true,\r\n      lazy,\r\n      type,\r\n      lazyText: \"loading...\",\r\n      iconColor: \"grey\",\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    if (this.state.lazy) {\r\n      switch (this.state.type) {\r\n        default:\r\n        case \"https\":\r\n          let httpResponse = await axios.get(this.props.content);\r\n          let httpContentType = httpResponse.headers[\"content-type\"];\r\n          if (httpContentType.search(\"text/plain\") >= 0) {\r\n            this.setState({\r\n              lazyText: httpResponse.data,\r\n              iconColor: \"red\",\r\n            });\r\n          }\r\n          break;\r\n        case \"ipfs\":\r\n          let ipfsResponse = await axios.get(\r\n            `${IPFS_GATEWAY}${this.props.content.replace(\"ipfs://\", \"\")}`\r\n          );\r\n          let ipfsContentType = ipfsResponse.headers[\"content-type\"];\r\n          if (ipfsContentType.search(\"text/plain\") >= 0) {\r\n            this.setState({\r\n              lazyText: ipfsResponse.data,\r\n              iconColor: \"teal\",\r\n            });\r\n          }\r\n          break;\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Card\r\n        fluid\r\n        raised\r\n        style={{\r\n          background: this.props.theme === \"dark\" ? \"black\" : \"white\",\r\n        }}\r\n      >\r\n        <Card.Content>\r\n          <Card.Description\r\n            content={this.state.lazy ? this.state.lazyText : this.props.content}\r\n            style={{ color: this.props.theme === \"dark\" ? \"white\" : \"black\" }}\r\n          />\r\n        </Card.Content>\r\n        <Card.Content\r\n          extra\r\n          style={{ color: this.props.theme === \"dark\" ? \"white\" : \"black\" }}\r\n        >\r\n          {this.state.lazy && (\r\n            <Label\r\n              attached=\"bottom right\"\r\n              color={this.state.iconColor}\r\n              size=\"tiny\"\r\n            >\r\n              {this.state.type}{\" \"}\r\n            </Label>\r\n          )}\r\n          {this.props.date}\r\n        </Card.Content>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FeedItem;\r\n","export function stringToHex(string) {\r\n  return string\r\n    .split(\"\")\r\n    .map((c) => c.charCodeAt(0).toString(16).padStart(2, \"0\"))\r\n    .join(\"\");\r\n}\r\n\r\nexport function hexToString(hex) {\r\n  return decodeURIComponent(\r\n    hex\r\n      .replace(/\\s+/g, \"\")\r\n      .replace(/[0-9a-f]{2}/g, \"%$&\")\r\n      .substring(2)\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Card, Container, Divider, Header } from \"semantic-ui-react\";\r\nimport axios from \"axios\";\r\nimport FeedItem from \"./FeedItem\";\r\nimport { hexToString } from \"../lib/HexStringUtil\";\r\n\r\nclass Profile extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    let feed = localStorage.getItem(\"feed\");\r\n    if (feed) {\r\n      feed = JSON.parse(feed);\r\n    } else {\r\n      feed = [];\r\n    }\r\n\r\n    this.state = {\r\n      feed,\r\n    };\r\n  }\r\n\r\n  async loadData(id) {\r\n    if (!id) return;\r\n\r\n    let network = window.ethereum.networkVersion;\r\n    let host;\r\n\r\n    switch (network) {\r\n      // Polygon Mumbai Testnet\r\n      case \"80001\":\r\n        host = \"https://api-testnet.polygonscan.com\";\r\n        break;\r\n\r\n      // Polygon Mainnet\r\n      case \"137\":\r\n        host = \"https://api.polygonscan.com\";\r\n        break;\r\n\r\n      default:\r\n        return;\r\n    }\r\n\r\n    let response = await axios.get(\r\n      `${host}/api?module=account&action=txlist&address=${id}&startblock=1&endblock=99999999&sort=asc`\r\n    );\r\n\r\n    let data = response.data;\r\n\r\n    if (data.status !== \"1\" || !Array.isArray(data.result)) return;\r\n\r\n    let feed = data.result\r\n      .filter((e) => e.to.toLowerCase() === this.props.id.toLowerCase())\r\n      .filter((e) => e.input !== \"0x\")\r\n      .filter((v, i, a) => a.findIndex((t) => t.hash === v.hash) === i)\r\n      .map(({ hash, input, timeStamp }) => ({\r\n        hash,\r\n        content: hexToString(input),\r\n        date: new Date(parseInt(timeStamp) * 1000).toString().substring(0, 24),\r\n      }))\r\n      .reverse();\r\n\r\n    this.setState({ feed });\r\n    localStorage.setItem(\"feed\", JSON.stringify(feed));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Container style={{ marginTop: \"2.5em\" }}>\r\n        <Divider hidden />\r\n        {this.props.id && (\r\n          <Header\r\n            style={{ color: this.props.theme === \"dark\" ? \"white\" : \"black\" }}\r\n            content={`Address ${this.props.id.substring(\r\n              0,\r\n              6\r\n            )}...${this.props.id.slice(-4)} Chain ${\r\n              window.ethereum.networkVersion\r\n            }`}\r\n          />\r\n        )}\r\n        <Divider hidden />\r\n        <Card.Group>\r\n          {this.props.id &&\r\n            this.state.feed.map((item) => (\r\n              <FeedItem key={item.hash} {...item} theme={this.props.theme} />\r\n            ))}\r\n        </Card.Group>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Profile;\r\n","import React from \"react\";\nimport { Button, Input, Menu, Message, Modal } from \"semantic-ui-react\";\nimport Profile from \"./components/Profile\";\nimport { stringToHex } from \"./lib/HexStringUtil\";\nconst { create } = require(\"ipfs-http-client\");\nconst ipfs = create(\"http://localhost:5001\");\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    let disableConnect = typeof window.ethereum === \"undefined\";\n    const id = localStorage.getItem(\"id\") || \"\";\n\n    this.state = {\n      theme: localStorage.getItem(\"theme\") || \"light\",\n      connect: id ? true : false,\n      disableConnect,\n      id,\n      addModalOpen: false,\n      postMessage: \"\",\n      disableRefresh: false,\n    };\n\n    this.profile = React.createRef();\n  }\n\n  componentDidMount() {\n    this.setTheme(this.state.theme);\n  }\n\n  onClickToggleTheme() {\n    if (this.state.theme === \"dark\") {\n      this.setTheme(\"light\");\n    } else {\n      this.setTheme(\"dark\");\n    }\n  }\n\n  setTheme(theme) {\n    this.setState({ theme });\n    localStorage.setItem(\"theme\", theme);\n    document.body.classList.remove(\"dark\");\n    document.body.classList.remove(\"light\");\n    document.body.classList.add(theme);\n  }\n\n  onClickConnect() {\n    if (this.state.connect) {\n      this.setState({ connect: false, id: \"\" });\n      localStorage.removeItem(\"feed\");\n      localStorage.removeItem(\"id\");\n    } else {\n      window.ethereum\n        .request({ method: \"eth_requestAccounts\" })\n        .then((accounts) => {\n          let id = accounts[0];\n          localStorage.setItem(\"id\", id);\n          this.setState({ connect: true, id });\n          this.profile.current.loadData(id);\n        })\n        .catch((_) => {\n          this.setState({ connect: false, id: \"\" });\n          localStorage.clear(\"feed\");\n          localStorage.clear(\"id\");\n        });\n    }\n  }\n\n  onClickAdd() {\n    this.setState({ addModalOpen: true, postMessage: \"\" });\n  }\n\n  async onClickPostToMetamask() {\n    let post = this.state.postMessage;\n    let hex;\n\n    // Put long posts on ipfs\n    if (post.length > 60) {\n      const { cid } = await ipfs.add(post, { pin: true });\n      hex = stringToHex(`ipfs://${cid.toString()}`);\n    } else {\n      hex = stringToHex(post);\n    }\n\n    window.ethereum\n      .request({\n        method: \"eth_sendTransaction\",\n        params: [\n          {\n            to: window.ethereum.selectedAddress,\n            from: window.ethereum.selectedAddress,\n            data: `0x${hex}`,\n          },\n        ],\n      })\n      .then((_) => {})\n      .catch((_) => {})\n      .finally((_) => this.setState({ addModalOpen: false, postMessage: \"\" }));\n  }\n\n  render() {\n    return (\n      <div className={this.state.theme}>\n        <Menu\n          fixed=\"top\"\n          compact\n          borderless\n          inverted={this.state.theme === \"dark\"}\n        >\n          <Menu.Item\n            header\n            content=\"Profile\"\n          />\n          {this.state.id && (\n            <Menu.Item\n              icon=\"refresh\"\n              disabled={this.state.disableRefresh}\n              onClick={() => {\n                this.profile.current.loadData(this.state.id);\n                this.setState({ disableRefresh: true });\n                setTimeout(\n                  () => this.setState({ disableRefresh: false }),\n                  2000\n                );\n              }}\n            />\n          )}\n\n          <Menu.Item\n            position=\"right\"\n            icon={this.state.theme === \"dark\" ? \"moon\" : \"sun\"}\n            onClick={this.onClickToggleTheme.bind(this)}\n          />\n          <Menu.Item\n            name={\n              this.state.disableConnect\n                ? \"Install Metamask\"\n                : this.state.connect\n                ? \"Disconnect\"\n                : \"Connect\"\n            }\n            icon={this.state.disableConnect ? \"warning\" : \"power\"}\n            onClick={\n              this.state.disableConnect\n                ? () => {\n                    window.open(\"https://metamask.io\", \"_blank\");\n                  }\n                : this.onClickConnect.bind(this)\n            }\n          />\n        </Menu>\n        <Profile\n          ref={this.profile}\n          theme={this.state.theme}\n          id={this.state.id}\n        />\n        <Button\n          circular\n          icon=\"add\"\n          size=\"big\"\n          onClick={this.onClickAdd.bind(this)}\n          style={{\n            display: this.state.connect ? \"block\" : \"none\",\n            position: \"fixed\",\n            margin: \"2em\",\n            bottom: \"0px\",\n            right: \"0px\",\n            zIndex: 6,\n          }}\n        />\n        <Modal open={this.state.addModalOpen}>\n          <Modal.Header>Post a new Message</Modal.Header>\n          <Modal.Content>\n            <Modal.Description>\n              <Input\n                fluid\n                placeholder=\"Enter your messsage\"\n                onChange={(e, { value }) =>\n                  this.setState({ postMessage: value })\n                }\n              />\n              <Message warning>\n                <p>\n                  Metamask will prompt you for transaction confirmation. Verify\n                  transaction amount is 0 and to address is your own. The data\n                  input will be a hex encode of your post.\n                </p>\n                <p>\n                  After confirming in Metamask, the transaction may take some\n                  time to finalize on the blockchain based on network\n                  conditions. You can refresh from the header icon when Metamask\n                  notifies you of successful posting.\n                </p>\n              </Message>\n            </Modal.Description>\n          </Modal.Content>\n          <Modal.Actions>\n            <Button\n              negative\n              content=\"Cancel\"\n              onClick={() =>\n                this.setState({ addModalOpen: false, postMessage: \"\" })\n              }\n            />\n            <Button\n              content=\"Post\"\n              labelPosition=\"right\"\n              icon=\"checkmark\"\n              positive\n              disabled={this.state.postMessage ? false : true}\n              onClick={this.onClickPostToMetamask.bind(this)}\n            />\n          </Modal.Actions>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'semantic-ui-css/semantic.min.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport VConsole from 'vconsole';\nnew VConsole();\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}